WLbact_newREL <- WLbact_new.csv
# Setup Work Environment
rm(list=ls())
setwd("~/GitHub/IL_Wetlands")
se <- function(x){sd(x)/sqrt(length(x))}
source("DiversityFunctions.r")
require(vegan)
require(reshape)
require(BiodiversityR)
require("ecodist")
write.table(OTUsREL, file = "WLbact_STDnew.csv", sep = ",", col.names = NA)
WLbact_newREL <- WLbact_new.csv
# Setup Work Environment
rm(list=ls())
setwd("~/GitHub/IL_Wetlands/")
source("./bin/MothurTools.R")
require("vegan")
se <- function(x, ...){sd(x, ...)/sqrt(length(na.omit(x)))}
# Define Inputs
# Design = general design file for experiment
# shared = OTU table from mothur with sequence similarity clustering
# design <- ""
shared <- "./data/WL.final.shared"
# Import Design
# design <- read.delim(design, header=T, row.names=1)
# Import Shared Files
OTUs <- read.otu(shared = shared, cutoff = "0.03")         # 97% Similarity
# Remove OTUs with less than two occurances across all sites
OTUs <- Pond97[, which(colSums(OTUs) >= 2)]
# Coverage Stats
coverage <- rowSums(OTUs)
summary(coverage)
# Make Presence Absence Matrices
OTUsPA <- (OTUs > 0) * 1
rich <- rowSums(OTUsPA)
summary(rich)
# Make Relative Abundence Matrices
OTUsREL <- OTUs
for(i in dim(OTUs)[1]){
OTUs[i,]<-OTUs[i,]/sum(OTUs[i,])
}
write.table(OTUsREL, file = "WLbact_new.csv", sep = ",", col.names = NA)
read.table("WLbact_new.csv", header = TRUE, sep = ",", row.names = 1)
WLbact_newREL <- WLbact_new.csv
WLbact_newREL <- WLbact_new
View(OTUsREL)
colSums(OTUsREL) # All should be 1
OTUsRELnew <- OTUsREL
for(i in dim(OTUs)[1]){
OTUs[,i]<-OTUs[,i]/sum(OTUs[,i])
}
View(OTUsRELnew)
rowSums(OTUsREL) # All should be 1
View(OTUsRELnew)
